


<div class="col-md-12"></div>
<div>
    <div class="center-horizontally">
        <div>
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb"
                    style="background-color: rgba(3, 24, 49, 0.692); text-align: center; color: white; font-size: large; box-shadow: 2px 2px 2px gray; justify-content: center; margin-top: 11px; font-size: 25px bold;  ">
                    <h3>State Level Component Selection</h3>               
                 </ol>
            </nav>
        </div>
    </div>

    <form [formGroup]="formValidate">
        <div style="margin-top: 10px; height: 100%;" class="scrollable-content">
            <!-- <span class="detailType">Details of CFC</span> -->
            <div class="container" style="font-size: 12px;">



                <div class="col-md-4">
                    <div class="form-group">
                        <label>State</label>
                        <div>
                            <mat-form-field>
                                <mat-label>Select state</mat-label>
                                <mat-select formControlName="state"  [(ngModel)]="statecd"   (selectionChange)="GetYearmaster()">
                                    <mat-option *ngFor="let item of selectUserType" [value]="item.lg_State_Code">{{
                                        item.state_Name
                                        }}</mat-option>
                                </mat-select>
                                <mat-error *ngIf="hasError('state', 'required')">state is
                                    <strong>required</strong></mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                </div>



                <div class="col-md-4">
                    <div class="form-group">
                        <label>Year</label>
                        <div>
                            <mat-form-field>
                                <mat-label>Select year</mat-label>
                                <mat-select formControlName="year"  [(ngModel)]="yearcd"   (selectionChange)="getmonthmaster()">
                                    <mat-option *ngFor="let item of Selectyeardata" [value]="item.financial_Year">{{
                                        item.financial_Year
                                        }}</mat-option>
                                </mat-select>
                                <mat-error *ngIf="hasError('year', 'required')">year is
                                    <strong>required</strong></mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                </div>

                
                <div class="col-md-4">
                    <div class="form-group">
                        <label>Months</label>
                        <div>
                            <mat-form-field>
                                <mat-label>Select Months</mat-label>
                                <mat-select formControlName="months"  [(ngModel)]="monthcd"   >
                                    <mat-option *ngFor="let item of selectmonthmaster" [value]="item.sno">{{
                                        item.month_Name
                                        }}</mat-option>
                                </mat-select>
                                <mat-error *ngIf="hasError('months', 'required')">months is
                                    <strong>required</strong></mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                </div>

                <div class="btnDiv">
                    <button class="btn" (click)="GetStatewiseTargets()">GetComponent</button>
                    <!-- <button class="btn" (click)="cancel()">Cancel</button> -->
                </div>
                <div class="btnDiv">
                    <button class="btn" (click)="PostComponentselectionmaster()">Save Component</button>
                    <!-- <button class="btn" (click)="cancel()">Cancel</button> -->
                </div>
                <div class="btnDiv">
                    <button class="btn" (click)="ClearAllDATA()">Reset</button>
                    <!-- <button class="btn" (click)="cancel()">Cancel</button> -->
                </div>

                <table mat-table matSort [dataSource]="dataSource">

                    <ng-container matColumnDef="slNo">
                    <th mat-header-cell *matHeaderCellDef> Sl No. </th>
                    <td mat-cell *matCellDef="let row let i = index;"> {{i+1}} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="Component_Code">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Component_Code </th>
                    <td mat-cell *matCellDef="let row"> {{row.component_Code
                    }} </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="Component">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Component </th>
                    <td mat-cell *matCellDef="let row">
                        <!-- {{row.districtName}}  -->
                        <span *ngIf="!row.editable">{{row.component}}</span>
                        <input type="text" [(ngModel)]="row.component" *ngIf="row.editable">
                    </td>
                    </ng-container>
                    
                    <ng-container matColumnDef="Unit">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>  Unit </th>
                        <td mat-cell *matCellDef="let row">
                            <!-- {{row.districtName}}  -->
                            <span *ngIf="!row.editable">{{row.unit}}</span>
                            <input type="text" [(ngModel)]="row.unit" *ngIf="row.editable">
                        </td>
                        </ng-container>

                        <ng-container matColumnDef="Physical_Target">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Sub Category2 </th>
                            <td mat-cell *matCellDef="let row">
                                <!-- {{row.districtName}}  -->
                                <span *ngIf="!row.editable">{{row.physical_Target}}</span>
                                <input type="text" [(ngModel)]="row.physical_Target" *ngIf="row.editable">
                            </td>
                            </ng-container>

                            <ng-container matColumnDef="Physical_Achievement">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Physical_Achievement </th>
                                <td mat-cell *matCellDef="let row">
                                    <!-- {{row.districtName}}  -->
                                    <span *ngIf="!row.editable">{{row.Physical_Achievement}}</span>
                                    <input type="text" [(ngModel)]="row.Physical_Achievement" *ngIf="row.editable">
                                </td>
                                </ng-container>
                                <ng-container matColumnDef="Financial_Target">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Financial_Target </th>
                                    <td mat-cell *matCellDef="let row">
                                        <!-- {{row.districtName}}  -->
                                        <span *ngIf="!row.editable">{{row.Financial_Target}}</span>
                                        <input type="text" [(ngModel)]="row.Financial_Target" *ngIf="row.editable">
                                    </td>
                                    </ng-container>

                                    <ng-container matColumnDef="GOIShare">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>GOIShare </th>
                                        <td mat-cell *matCellDef="let row">
                                            <!-- {{row.districtName}}  -->
                                            <span *ngIf="!row.editable">{{row.goiShare}}</span>
                                            <input type="text" [(ngModel)]="row.goiShare" *ngIf="row.editable">
                                        </td>
                                        </ng-container>
                                        <ng-container matColumnDef="GOIShareState">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header>GOIShareState </th>
                                            <td mat-cell *matCellDef="let row">
                                                <!-- {{row.districtName}}  -->
                                                <span *ngIf="!row.editable">{{row.goiShareState}}</span>
                                                <input type="text" [(ngModel)]="row.goiShareState" *ngIf="row.editable">
                                            </td>
                                            </ng-container>



                                            <ng-container matColumnDef="Progressive_FA">
                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>Progressive_FA </th>
                                                <td mat-cell *matCellDef="let row">
                                                    <!-- {{row.districtName}}  -->
                                                    <span *ngIf="!row.editable">{{row.progressive_FA}}</span>
                                                    <input type="text" [(ngModel)]="row.progressive_FA" *ngIf="row.editable">
                                                </td>
                                                </ng-container>



                                                <ng-container matColumnDef="GOIShareFA">
                                                    <th mat-header-cell *matHeaderCellDef mat-sort-header>GOIShareFA </th>
                                                    <td mat-cell *matCellDef="let row">
                                                        <!-- {{row.districtName}}  -->
                                                        <span *ngIf="!row.editable">{{row.goiShareFA}}</span>
                                                        <input type="text" [(ngModel)]="row.goiShareFA" *ngIf="row.editable">
                                                    </td>
                                                    </ng-container>

                                                    <ng-container matColumnDef="GOIShareStateFA">
                                                        <th mat-header-cell *matHeaderCellDef mat-sort-header>GOIShareStateFA </th>
                                                        <td mat-cell *matCellDef="let row">
                                                            <!-- {{row.districtName}}  -->
                                                            <span *ngIf="!row.editable">{{row.goiShareStateFA}}</span>
                                                            <input type="text" [(ngModel)]="row.goiShareStateFA" *ngIf="row.editable">
                                                        </td>
                                                        </ng-container>

                                                        <ng-container matColumnDef="SpillProgressive_PA">
                                                            <th mat-header-cell *matHeaderCellDef mat-sort-header>spillProgressive_PA </th>
                                                            <td mat-cell *matCellDef="let row">
                                                                <!-- {{row.districtName}}  -->
                                                                <span *ngIf="!row.editable">{{row.spillProgressive_PA}}</span>
                                                                <input type="text" [(ngModel)]="row.spillProgressive_PA" *ngIf="row.editable">
                                                            </td>
                                                            </ng-container>

                                                            <ng-container matColumnDef="SpillProgressive_FA">
                                                                <th mat-header-cell *matHeaderCellDef mat-sort-header>spillProgressive_FA </th>
                                                                <td mat-cell *matCellDef="let row">
                                                                    <!-- {{row.districtName}}  -->
                                                                    <span *ngIf="!row.editable">{{row.spillProgressive_FA}}</span>
                                                                    <input type="text" [(ngModel)]="row.spillProgressive_FA" *ngIf="row.editable">
                                                                </td>
                                                                </ng-container>
                            
                    <!-- Action Column -->
                    <ng-container matColumnDef="Action">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Action </th>
                    <td mat-cell *matCellDef="let row">
                    
                        <button type="button" *ngIf="!row.isEditing" class="btn btn-colour" 
                        (click)="Editdistrictmaster(row)">Edit</button>
                    
                    <!-- <button type="button" class="btn btn-colour"
                        (click)="Updatedistrictmasterdata(row)" *ngIf="row.isEditing">Update</button> -->
                    
                    <button type="button" class="btn" mat-stroked-button style="margin-left: 4px;"
                        (click)="cancelEdit(row)" *ngIf="row.isEditing">Cancel</button>
             
                    
                    </td>
                    </ng-container>
                    
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    
                    <!-- Row shown when there is no matching data. -->
                    <!-- <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
                    </tr> -->
                    </table>
                    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
                    
                    